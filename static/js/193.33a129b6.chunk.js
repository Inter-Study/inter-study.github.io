/*! For license information please see 193.33a129b6.chunk.js.LICENSE.txt */
(self.webpackChunkinter_study=self.webpackChunkinter_study||[]).push([[193,41,651,209],{5193:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return _}});var r=n(5671),i=n(3144),o=n(136),s=n(7277),a=n(7313),c=n(6135),u=n(2790),l=n.n(u),d=n(4651),f=n(4041),p=n(6287),h=n(4209),m=n(5192);function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}function w(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function b(t,e){return b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},b(t,e)}function x(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function T(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=S(t);if(e){var i=S(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return x(this,n)}}function O(t){return function(t){if(Array.isArray(t))return D(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return D(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function M(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=String(t);if(0===e)return n;var r=n.match(/(.*?)([0-9]+)(.*)/),i=r?r[1]:"",o=r?r[3]:"",s=r?r[2]:n,a=s.length>=e?s:(O(Array(e)).map((function(){return"0"})).join("")+s).slice(-1*e);return"".concat(i).concat(a).concat(o)}var C={daysInHours:!1,zeroPadTime:2};function j(t,e){var n=t.days,r=t.hours,i=t.minutes,o=t.seconds,s=Object.assign(Object.assign({},C),e),a=s.daysInHours,c=s.zeroPadTime,u=s.zeroPadDays,l=void 0===u?c:u,d=Math.min(2,c),f=a?M(r+24*n,c):M(r,d);return{days:a?"":M(n,l),hours:f,minutes:M(i,d),seconds:M(o,d)}}var P=function(t){w(n,t);var e=T(n);function n(){var t;return v(this,n),(t=e.apply(this,arguments)).state={count:t.props.count||3},t.startCountdown=function(){t.interval=window.setInterval((function(){0===t.state.count-1?(t.stopCountdown(),t.props.onComplete&&t.props.onComplete()):t.setState((function(t){return{count:t.count-1}}))}),1e3)},t.stopCountdown=function(){clearInterval(t.interval)},t.addTime=function(e){t.stopCountdown(),t.setState((function(t){return{count:t.count+e}}),t.startCountdown)},t}return y(n,[{key:"componentDidMount",value:function(){this.startCountdown()}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return this.props.children?(0,a.cloneElement)(this.props.children,{count:this.state.count}):null}}]),n}(a.Component);P.propTypes={count:m.number,children:m.element,onComplete:m.func};var k=function(t){w(n,t);var e=T(n);function n(t){var r;if(v(this,n),(r=e.call(this,t)).mounted=!1,r.initialTimestamp=r.calcOffsetStartTimestamp(),r.offsetStartTimestamp=r.props.autoStart?0:r.initialTimestamp,r.offsetTime=0,r.legacyMode=!1,r.legacyCountdownRef=(0,a.createRef)(),r.tick=function(){var t=r.calcTimeDelta(),e=t.completed&&!r.props.overtime?void 0:r.props.onTick;r.setTimeDeltaState(t,void 0,e)},r.start=function(){if(!r.isStarted()){var t=r.offsetStartTimestamp;r.offsetStartTimestamp=0,r.offsetTime+=t?r.calcOffsetStartTimestamp()-t:0;var e=r.calcTimeDelta();r.setTimeDeltaState(e,"STARTED",r.props.onStart),r.props.controlled||e.completed&&!r.props.overtime||(r.clearTimer(),r.interval=window.setInterval(r.tick,r.props.intervalDelay))}},r.pause=function(){r.isPaused()||(r.clearTimer(),r.offsetStartTimestamp=r.calcOffsetStartTimestamp(),r.setTimeDeltaState(r.state.timeDelta,"PAUSED",r.props.onPause))},r.stop=function(){r.isStopped()||(r.clearTimer(),r.offsetStartTimestamp=r.calcOffsetStartTimestamp(),r.offsetTime=r.offsetStartTimestamp-r.initialTimestamp,r.setTimeDeltaState(r.calcTimeDelta(),"STOPPED",r.props.onStop))},r.isStarted=function(){return r.isStatus("STARTED")},r.isPaused=function(){return r.isStatus("PAUSED")},r.isStopped=function(){return r.isStatus("STOPPED")},r.isCompleted=function(){return r.isStatus("COMPLETED")},t.date){var i=r.calcTimeDelta();r.state={timeDelta:i,status:i.completed?"COMPLETED":"STOPPED"}}else r.legacyMode=!0;return r}return y(n,[{key:"componentDidMount",value:function(){this.legacyMode||(this.mounted=!0,this.props.onMount&&this.props.onMount(this.calcTimeDelta()),this.props.autoStart&&this.start())}},{key:"componentDidUpdate",value:function(t){this.legacyMode||this.props.date!==t.date&&(this.initialTimestamp=this.calcOffsetStartTimestamp(),this.offsetStartTimestamp=this.initialTimestamp,this.offsetTime=0,this.setTimeDeltaState(this.calcTimeDelta()))}},{key:"componentWillUnmount",value:function(){this.legacyMode||(this.mounted=!1,this.clearTimer())}},{key:"calcTimeDelta",value:function(){var t=this.props,e=t.date,n=t.now,r=t.precision,i=t.controlled,o=t.overtime;return function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.now,i=void 0===r?Date.now:r,o=n.precision,s=void 0===o?0:o,a=n.controlled,c=n.offsetTime,u=void 0===c?0:c,l=n.overtime;e="string"===typeof t?new Date(t).getTime():t instanceof Date?t.getTime():t,a||(e+=u);var d=a?e:e-i(),f=Math.min(20,Math.max(0,s)),p=Math.round(1e3*parseFloat(((l?d:Math.max(0,d))/1e3).toFixed(f))),h=Math.abs(p)/1e3;return{total:p,days:Math.floor(h/86400),hours:Math.floor(h/3600%24),minutes:Math.floor(h/60%60),seconds:Math.floor(h%60),milliseconds:Number((h%1*1e3).toFixed()),completed:p<=0}}(e,{now:n,precision:r,controlled:i,offsetTime:this.offsetTime,overtime:o})}},{key:"calcOffsetStartTimestamp",value:function(){return Date.now()}},{key:"addTime",value:function(t){this.legacyCountdownRef.current.addTime(t)}},{key:"clearTimer",value:function(){window.clearInterval(this.interval)}},{key:"isStatus",value:function(t){return this.state.status===t}},{key:"setTimeDeltaState",value:function(t,e,n){var r=this;if(this.mounted){var i=t.completed&&!this.state.timeDelta.completed,o=t.completed&&"STARTED"===e;i&&!this.props.overtime&&this.clearTimer();return this.setState((function(n){var i=e||n.status;return t.completed&&!r.props.overtime?i="COMPLETED":e||"COMPLETED"!==i||(i="STOPPED"),{timeDelta:t,status:i}}),(function(){n&&n(r.state.timeDelta),r.props.onComplete&&(i||o)&&r.props.onComplete(t,o)}))}}},{key:"getApi",value:function(){return this.api=this.api||{start:this.start,pause:this.pause,stop:this.stop,isStarted:this.isStarted,isPaused:this.isPaused,isStopped:this.isStopped,isCompleted:this.isCompleted}}},{key:"getRenderProps",value:function(){var t=this.props,e=t.daysInHours,n=t.zeroPadTime,r=t.zeroPadDays,i=this.state.timeDelta;return Object.assign(Object.assign({},i),{api:this.getApi(),props:this.props,formatted:j(i,{daysInHours:e,zeroPadTime:n,zeroPadDays:r})})}},{key:"render",value:function(){if(this.legacyMode){var t=this.props,e=t.count,n=t.children,r=t.onComplete;return(0,a.createElement)(P,{ref:this.legacyCountdownRef,count:e,onComplete:r},n)}var i=this.props,o=i.className,s=i.overtime,c=i.children,u=i.renderer,l=this.getRenderProps();if(u)return u(l);if(c&&this.state.timeDelta.completed&&!s)return(0,a.cloneElement)(c,{countdown:l});var d=l.formatted,f=d.days,p=d.hours,h=d.minutes,m=d.seconds;return(0,a.createElement)("span",{className:o},l.total<0?"-":"",f,f?":":"",p,":",h,":",m)}}]),n}(a.Component);k.defaultProps=Object.assign(Object.assign({},C),{controlled:!1,intervalDelay:1e3,precision:0,autoStart:!0}),k.propTypes={date:(0,m.oneOfType)([(0,m.instanceOf)(Date),m.string,m.number]),daysInHours:m.bool,zeroPadTime:m.number,zeroPadDays:m.number,controlled:m.bool,intervalDelay:m.number,precision:m.number,autoStart:m.bool,overtime:m.bool,className:m.string,children:m.element,renderer:m.func,now:m.func,onMount:m.func,onStart:m.func,onPause:m.func,onStop:m.func,onTick:m.func,onComplete:m.func};var U=k,E=n(6417),A=function(t){(0,o.Z)(n,t);var e=(0,s.Z)(n);function n(t){var i;return(0,r.Z)(this,n),(i=e.call(this,t)).setPulse=function(t){t&&i.props.bluethDevice&&!i.state.isPulse&&(i.setState({isPulse:!0,pulseCount:i.state.pulseCount+1}),(0,h.toastAlert)("\u8b66\u544a","\u4f60\u672a\u5728\u4e13\u6ce8\u72b6\u6001\uff0c\u7535\u51fb\u5f00\u59cb","warning",2e3),i.props.bluethDevice.characteristic.writeValueWithoutResponse(new TextEncoder("utf-8").encode("1")),setTimeout((function(){i.setState({isPulse:!1}),(0,h.toastAlert)("\u901a\u77e5","\u672c\u8f6e\u7535\u51fb\u7ed3\u675f\uff0c\u8bf7\u63d0\u9ad8\u4e13\u6ce8\u529b","info",2e3),i.props.bluethDevice.characteristic.writeValueWithoutResponse(new TextEncoder("utf-8").encode("0"))}),1e3*i.state.pulseTimer))},i.state={isEnd:!1,isPulse:!1,pulseCount:0,pulseTimer:10,eventTrigger:["blur","visibilitychange","foucus"]},i}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var t=this;this.props.bluethDevice&&this.state.eventTrigger.map((function(e){return document.addEventListener(e,(function(e){return t.setPulse(1)}))}))}},{key:"render",value:function(){var t=this;return this.props.bluethDevice?(0,E.jsx)("div",{children:(0,E.jsxs)("div",{className:"flex flex-col h-screen bg-gradient-to-br bg-indigo-800 from-indigo-600 via-indigo-800 to-indigo-900",children:[(0,E.jsx)(d.default,{title:p.default.site.title,logo:p.default.site.logo,list:p.EntryConfig.menu}),(0,E.jsxs)("div",{className:"overflow-hidden text-center mx-auto max-w-2xl py-16 text-gray-200 lg:text-3xl text-2xl",children:[(0,E.jsx)(U,{className:"m-5",date:Date.now()+6e4*this.props.focusDuration,renderer:function(e){var n=e.hours,r=e.minutes,i=e.seconds;return e.completed?(t.setState({isEnd:!0}),"\u606d\u559c\uff0c\u76ee\u6807\u8fbe\u6210\uff01"):(n=n.toString().padStart(2,"0"),r=r.toString().padStart(2,"0"),i=i.toString().padStart(2,"0"),(0,E.jsxs)("span",{children:["\u5269\u4f59 ".concat(n,":").concat(r,":").concat(i," \u8fbe\u6210\u76ee\u6807"),(0,E.jsx)("br",{}),"\u8bf7\u52ff\u5237\u65b0\u9875\u9762\uff01"]}))}}),this.state.isEnd?(0,E.jsx)("span",{className:"text-4xl",children:"\u5728\u8fd9 ".concat(this.props.focusDuration," \u5206\u949f\u91cc\uff0c\u4f60\u88ab\u7535\u51fb\u63d0\u9192\u4e86 ").concat(this.state.pulseCount," \u6b21")}):(0,E.jsx)(l(),{width:640,height:480,className:"rounded-sm mt-8"})]})]})}):(0,E.jsx)(f.default,{})}}]),n}(a.Component),_=(0,c.$j)((function(t){return{bluethDevice:t.bluethDevice,focusDuration:t.focusDuration}}))(A)},4041:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return l}});var r=n(5671),i=n(3144),o=n(136),s=n(7277),a=n(7313),c=n(8694),u=n(6417),l=function(t){(0,o.Z)(n,t);var e=(0,s.Z)(n);function n(t){var i;return(0,r.Z)(this,n),(i=e.call(this,t)).state={countDown:5,countDownTimer:null},i}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var t=this;this.setState({countDownTimer:setInterval((function(){t.setState({countDown:t.state.countDown-1}),1===t.state.countDown&&clearInterval(t.state.countDownTimer)}),1e3)})}},{key:"render",value:function(){return(0,u.jsxs)("div",{className:"page-primary bg-gradient-to-br text-white bg-indigo-800 from-indigo-600 via-indigo-800 to-indigo-900 flex flex-col items-center justify-center",children:[(0,u.jsx)("svg",{className:"py-2 w-16 h-16 animate-bounce fill-gray-200",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,u.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),(0,u.jsx)("h2",{className:"py-2 text-center text-xl font-bold",children:"403 - \u975e\u6cd5\u8bbf\u95ee"}),0===this.state.countDown?(0,u.jsx)(c.default,{to:"/",replace:!0}):(0,u.jsxs)("i",{className:"px-14 text-center",children:["\u5269\u4f59 ",this.state.countDown," \u79d2\u540e\u8fd4\u56de\u9996\u9875"]})]})}}]),n}(a.Component)},4651:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return l}});var r=n(5671),i=n(3144),o=n(136),s=n(7277),a=n(7313),c=n(2135),u=n(6417),l=function(t){(0,o.Z)(n,t);var e=(0,s.Z)(n);function n(t){var i;return(0,r.Z)(this,n),(i=e.call(this,t)).state={title:i.props.title,logo:i.props.logo,list:i.props.list},i}return(0,i.Z)(n,[{key:"render",value:function(){var t=this;return(0,u.jsx)("nav",{className:"bg-indigo-800 bg-gradient-to-br from-indigo-600 via-indigo-800 to-indigo-900",children:(0,u.jsx)("div",{className:"container px-6 py-4 mx-auto",children:(0,u.jsxs)("div",{className:"lg:flex lg:items-center lg:justify-between",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between",children:[this.state.logo?(0,u.jsx)("img",{className:"ml-4 h-10",src:this.state.logo,alt:this.state.title}):(0,u.jsx)("button",{type:"button",className:"text-gray-400 hover:text-gray-200",onClick:function(){window.history.back()},children:(0,u.jsx)("svg",{className:"w-6 h-6 ",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",fill:"currentColor",children:(0,u.jsx)("path",{d:"M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"})})}),(0,u.jsx)("div",{className:"lg:hidden",children:(0,u.jsx)("button",{type:"button",className:"text-gray-400 hover:text-gray-200",onClick:function(){return t.setState({isOpen:!t.state.isOpen})},children:(0,u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,u.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"".concat(this.state.isOpen?"M6 18L18 6M6 6l12 12":"M4 8h16M4 16h16")})})})})]}),(0,u.jsx)("div",{className:"bg-indigo-800 absolute inset-x-0 z-20 w-full px-6 mr-10 py-4 transition-all duration-300 ease-in-out shadow-md lg:bg-transparent lg:shadow-none lg:mt-0 lg:p-0 lg:top-0 lg:relative lg:w-auto lg:opacity-100 lg:translate-x-0 ".concat(this.state.isOpen?"":"opacity-0 -translate-x-full"),children:(0,u.jsx)("div",{className:"-mx-4 lg:flex lg:items-center text-gray-200",children:this.state.list.map((function(t,e){return(0,u.jsx)(c.rU,{className:"".concat("link"===t.type?"block mx-4 mt-4 capitalize lg:mt-0 hover:text-blue-600":"block w-full btn-primary px-4 py-2 mt-4 text-sm "),to:t.path,children:t.name},e)}))})})]})})})}}]),n}(a.Component)},4209:function(t,e,n){"use strict";n.r(e),n.d(e,{confirmAlert:function(){return d},errorAlert:function(){return c},infoAlert:function(){return l},inputAlert:function(){return m},selectAlert:function(){return h},successAlert:function(){return a},timerAlert:function(){return f},toastAlert:function(){return p},warningAlert:function(){return u}});var r=n(4165),i=n(5861),o=n(7114),s=n.n(o),a=function(t,e){return s().fire({title:t,html:e,icon:"success",confirmButtonText:"\u786e\u8ba4",allowOutsideClick:!1})},c=function(t,e){return s().fire({title:t,html:e,icon:"error",confirmButtonText:"\u786e\u8ba4",allowOutsideClick:!1})},u=function(t,e){return s().fire({title:t,html:e,icon:"warning",confirmButtonText:"\u786e\u8ba4",allowOutsideClick:!1})},l=function(t,e){return s().fire({title:t,html:e,icon:"info",confirmButtonText:"\u786e\u8ba4",allowOutsideClick:!1})},d=function(t,e,n,r,i){return s().fire({title:t,html:e,icon:"warning",showCancelButton:r.length>0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",allowOutsideClick:!1,cancelButtonText:r,confirmButtonText:n}).then((function(t){t.value&&i()}))},f=function(){var t=(0,i.Z)((0,r.Z)().mark((function t(e,n,i,o){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null,t.next=3,s().fire({title:e,html:n,timer:i,timerProgressBar:!0,allowOutsideClick:!1,didOpen:function(){s().showLoading()},willClose:function(){clearInterval(null)}});case 3:t.sent.dismiss===s().DismissReason.timer&&o();case 5:case"end":return t.stop()}}),t)})));return function(e,n,r,i){return t.apply(this,arguments)}}(),p=function(t,e,n,r){return s().mixin({toast:!0,position:"top-end",timer:r,timerProgressBar:!0,showConfirmButton:!1,didOpen:function(t){t.addEventListener("mouseenter",s().stopTimer),t.addEventListener("mouseleave",s().resumeTimer)}}).fire({icon:n,title:t,html:e})},h=function(t,e,n,r,i){return s().fire({title:t,html:e,input:n,inputOptions:r,inputPlaceholder:"\u8bf7\u9009\u62e9",showCancelButton:!1,allowOutsideClick:!1,inputValidator:function(t){if(!t)return"\u8bf7\u9009\u62e9"}}).then((function(t){t.value&&i(t.value)}))},m=function(t,e,n,r){return s().fire({title:t,html:e,input:n,inputAttributes:{autocapitalize:"off"},confirmButtonText:"\u786e\u8ba4",showCancelButton:!1,allowOutsideClick:!1,inputValidator:function(t){if(!t)return"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u503c"}}).then((function(t){t.value&&r(t.value)}))}},1729:function(t,e,n){"use strict";var r=n(9165);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5192:function(t,e,n){t.exports=n(1729)()},9165:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},2790:function(t,e,n){var r;r=function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(t,e,n){"use strict";n.r(e);var r=n("react"),i=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)},s=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};function a(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}"undefined"!==typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(t){var e=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return e?new Promise((function(n,r){e.call(navigator,t,n,r)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}));var c=function(t){function e(e){var n=t.call(this,e)||this;return n.canvas=null,n.ctx=null,n.requestUserMediaId=0,n.unmounted=!1,n.state={hasUserMedia:!1},n}return i(e,t),e.prototype.componentDidMount=function(){var t=this.state,e=this.props;this.unmounted=!1,a()?(t.hasUserMedia||this.requestUserMedia(),e.children&&"function"!=typeof e.children&&console.warn("children must be a function")):e.onUserMediaError("getUserMedia not supported")},e.prototype.componentDidUpdate=function(t){var e=this.props;if(a()){var n=JSON.stringify(t.audioConstraints)!==JSON.stringify(e.audioConstraints),r=JSON.stringify(t.videoConstraints)!==JSON.stringify(e.videoConstraints),i=t.minScreenshotWidth!==e.minScreenshotWidth,o=t.minScreenshotHeight!==e.minScreenshotHeight;(r||i||o)&&(this.canvas=null,this.ctx=null),(n||r)&&(this.stopAndCleanup(),this.requestUserMedia())}else e.onUserMediaError("getUserMedia not supported")},e.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},e.stopMediaStream=function(t){t&&(t.getVideoTracks&&t.getAudioTracks?(t.getVideoTracks().map((function(e){t.removeTrack(e),e.stop()})),t.getAudioTracks().map((function(e){t.removeTrack(e),e.stop()}))):t.stop())},e.prototype.stopAndCleanup=function(){var t=this.state;t.hasUserMedia&&(e.stopMediaStream(this.stream),t.src&&window.URL.revokeObjectURL(t.src))},e.prototype.getScreenshot=function(t){var e=this.state,n=this.props;if(!e.hasUserMedia)return null;var r=this.getCanvas(t);return r&&r.toDataURL(n.screenshotFormat,n.screenshotQuality)},e.prototype.getCanvas=function(t){var e=this.state,n=this.props;if(!this.video)return null;if(!e.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var r=this.video.videoWidth,i=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var o=r/i;i=(r=n.minScreenshotWidth||this.video.clientWidth)/o,n.minScreenshotHeight&&i<n.minScreenshotHeight&&(r=(i=n.minScreenshotHeight)*o)}this.canvas=document.createElement("canvas"),this.canvas.width=(null===t||void 0===t?void 0:t.width)||r,this.canvas.height=(null===t||void 0===t?void 0:t.height)||i,this.ctx=this.canvas.getContext("2d")}var s=this.ctx,a=this.canvas;return s&&a&&(n.mirrored&&(s.translate(a.width,0),s.scale(-1,1)),s.imageSmoothingEnabled=n.imageSmoothing,s.drawImage(this.video,0,0,(null===t||void 0===t?void 0:t.width)||a.width,(null===t||void 0===t?void 0:t.height)||a.height),n.mirrored&&(s.scale(-1,1),s.translate(-a.width,0))),a},e.prototype.requestUserMedia=function(){var t=this,n=this.props,r=function(r,i){var o={video:"undefined"===typeof i||i};n.audio&&(o.audio="undefined"===typeof r||r),t.requestUserMediaId++;var s=t.requestUserMediaId;navigator.mediaDevices.getUserMedia(o).then((function(n){t.unmounted||s!==t.requestUserMediaId?e.stopMediaStream(n):t.handleUserMedia(null,n)})).catch((function(e){t.handleUserMedia(e)}))};if("mediaDevices"in navigator)r(n.audioConstraints,n.videoConstraints);else{var i=function(t){return{optional:[{sourceId:t}]}},o=function(t){var e=t.deviceId;return"string"===typeof e?e:Array.isArray(e)&&e.length>0?e[0]:"object"===typeof e&&e.ideal?e.ideal:null};MediaStreamTrack.getSources((function(t){var e=null,s=null;t.forEach((function(t){"audio"===t.kind?e=t.id:"video"===t.kind&&(s=t.id)}));var a=o(n.audioConstraints);a&&(e=a);var c=o(n.videoConstraints);c&&(s=c),r(i(e),i(s))}))}},e.prototype.handleUserMedia=function(t,e){var n=this.props;if(t||!e)return this.setState({hasUserMedia:!1}),void n.onUserMediaError(t);this.stream=e;try{this.video&&(this.video.srcObject=e),this.setState({hasUserMedia:!0})}catch(r){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(e)})}n.onUserMedia(e)},e.prototype.render=function(){var t=this,e=this.state,n=this.props,i=n.audio,a=(n.forceScreenshotSourceSize,n.onUserMedia,n.onUserMediaError,n.screenshotFormat,n.screenshotQuality,n.minScreenshotWidth,n.minScreenshotHeight,n.audioConstraints,n.videoConstraints,n.imageSmoothing,n.mirrored),c=n.style,u=void 0===c?{}:c,l=n.children,d=s(n,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),f=a?o(o({},u),{transform:(u.transform||"")+" scaleX(-1)"}):u,p={getScreenshot:this.getScreenshot.bind(this)};return r.createElement(r.Fragment,null,r.createElement("video",o({autoPlay:!0,src:e.src,muted:!i,playsInline:!0,ref:function(e){t.video=e},style:f},d)),l&&l(p))},e.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},e}(r.Component);e.default=c},react:function(e,n){e.exports=t}}).default},t.exports=r(n(7313))}}]);